<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button onclick="start()">开始</button>
    <button onclick="stop()">暂停</button>
    <button onclick="_continue()">继续</button>

    <select name="bezier" id="bezier" onchange="setBezier(this.value)">
      <option value="ease">ease</option>
      <option value="easeIn">easeIn</option>
      <option value="easeOut">easeOut</option>
      <option value="easeInOut">easeInOut</option>
      <option value="easeInSine">easeInSine</option>
      <option value="easeOutSine">easeOutSine</option>
      <option value="easeInOutSine">easeInOutSine</option>
      <option value="easeInQuad">easeInQuad</option>
      <option value="easeOutQuad">easeOutQuad</option>
      <option value="easeInOutQuad">easeInOutQuad</option>
      <option value="easeInCubic">easeInCubic</option>
      <option value="easeOutCubic">easeOutCubic</option>
      <option value="easeInOutCubic">easeInOutCubic</option>
      <option value="easeInQuart">easeInQuart</option>
      <option value="easeOutQuart">easeOutQuart</option>
      <option value="easeInOutQuart">easeInOutQuart</option>
      <option value="easeInQuint">easeInQuint</option>
      <option value="easeOutQuint">easeOutQuint</option>
      <option value="easeInOutQuint">easeInOutQuint</option>
      <option value="easeInExpo">easeInExpo</option>
      <option value="easeOutExpo">easeOutExpo</option>
      <option value="easeInOutExpo">easeInOutExpo</option>
      <option value="easeInCirc">easeInCirc</option>
      <option value="easeOutCirc">easeOutCirc</option>
      <option value="easeInOutCirc">easeInOutCirc</option>
      <option value="easeInBack">easeInBack</option>
      <option value="easeOutBack">easeOutBack</option>
      <option value="easeInOutBack">easeInOutBack</option>
    </select>

    <div style="overflow: hidden">
      <div
        id="box"
        style="
          width: 150px;
          height: 150px;
          background: red;
          display: flex;
          align-items: center;
          position: absolute;
          text-align: center;
          color: #fff;
          justify-content: center;
          word-break: break-all;
        "
      >
        ease
      </div>
      <div
        id="boxDefault"
        style="
          width: 150px;
          height: 150px;
          background: rgb(0, 21, 255);
          color: #fff;
          line-height: 150px;
          text-align: center;
          position: absolute;
          left: 200px;
        "
      >
        linear
      </div>
    </div>
  </body>
  <script src="https://unpkg.com/easy-bezier-animation"></script>
  <script>
    const from = document.getElementById("box").offsetTop;
    const box = new BezierAnimation({
      from: {
        top: 31,
      },
      to: {
        top: 200,
      },
      duration: 2000,
      onUpdate: (value) => {
        document.getElementById("box").style.top = value.top + "px";
      },
    });
    const boxDefault = new BezierAnimation({
      from: {
        top: 31,
      },
      to: {
        top: 200,
      },
      duration: 2000,
      easing: "linear",
      onUpdate: (value) => {
        console.log(value);
        document.getElementById("boxDefault").style.top = value.top + "px";
      },
    });

    function setBezier(type) {
      box.setBezier(type);
      document.getElementById("box").innerText = type;
    }

    function start() {
      box.start();
      boxDefault.start();
    }

    function _continue() {
      box.continue();
      boxDefault.continue();
    }

    function stop() {
      box.stop();
      boxDefault.stop();
    }

    box.update(0.5, (opt) => {
      // console.log(opt);
    });
  </script>
</html>
