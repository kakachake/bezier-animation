!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).BezierAnimation=n()}(this,(function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var a in n=arguments[t])Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a]);return e},e.apply(this,arguments)};function n(e,n,t,r){var a=1e-6,u=3*e-3*t+1,i=3*t-6*e,o=3*e,s=3*n-3*r+1,f=3*r-6*n,c=3*n;function l(e){return((u*e+i)*e+o)*e}return function(e){return n=function(e){for(var n,t,r,s=e,f=0;f<8;f++){if(t=l(s)-e,Math.abs(t)<a)return s;if(n=(3*u*(r=s)+2*i)*r+o,Math.abs(n)<a)break;s-=t/n}var c=1,d=0;for(s=e;c>d;){if(t=l(s)-e,Math.abs(t)<a)return s;t>0?c=s:d=s,s=(c+d)/2}return s}(e),((s*n+f)*n+c)*n;var n}}var t={ease:n(.25,.1,.25,1),easeIn:n(.42,0,1,1),easeOut:n(0,0,.58,1),easeInOut:n(.42,0,.58,1),linear:n(0,0,1,1),easeInSine:n(.47,0,.745,.715),easeOutSine:n(.39,.575,.565,1),easeInOutSine:n(.445,.05,.55,.95),easeInQuad:n(.55,.085,.68,.53),easeOutQuad:n(.25,.46,.45,.94),easeInOutQuad:n(.455,.03,.515,.955),easeInCubic:n(.55,.055,.675,.19),easeOutCubic:n(.215,.61,.355,1),easeInOutCubic:n(.645,.045,.355,1),easeInQuart:n(.895,.03,.685,.22),easeOutQuart:n(.165,.84,.44,1),easeInOutQuart:n(.77,0,.175,1),easeInQuint:n(.755,.05,.855,.06),easeOutQuint:n(.23,1,.32,1),easeInOutQuint:n(.86,0,.07,1),easeInExpo:n(.95,.05,.795,.035),easeOutExpo:n(.19,1,.22,1),easeInOutExpo:n(1,0,0,1),easeInCirc:n(.6,.04,.98,.335),easeOutCirc:n(.075,.82,.165,1),easeInOutCirc:n(.785,.135,.15,.86),easeInBack:n(.6,-.28,.735,.045),easeOutBack:n(.175,.885,.32,1.275),easeInOutBack:n(.68,-.55,.265,1.55)};function r(e){return function(r){return function(e,r){return r="string"==typeof e?t[e](r):n(e[0],e[1],e[2],e[3])(r),r}(e,r)}}var a={easing:"ease",delay:0,loop:!1};function u(e){return null==e||"object"==typeof e&&0===Object.keys(e).length}return function(n){var t=this,i=e(e({},n),a),o=i.from,s=i.to,f=i.duration,c=i.easing;i.delay;var l=i.onUpdate,d=i.onComplete,h=i.loop,p=0,O=null;if(u(o)||u(s))throw new Error("from or to must be provided as an object");if(!function(e,n){var t=Object.keys(e),r=Object.keys(n);if(t.length!==r.length)return!1;for(var a=0;a<t.length;a++)if(t[a]!==r[a])return!1;return!0}(o,s))throw new Error("from and to must have the same keys");this.bezier=r(c),this.update=function(e,n){var r=Object.keys(o),a={};r.forEach((function(n){var r=[o[n],s[n]],u=r[0],i=r[1],f=t.bezier(e);a[n]=u+f*(i-u)})),n(a)},this.stop=function(){window.cancelAnimationFrame(O)},this.start=function(){window.cancelAnimationFrame(O),p=0,b()},this.continue=function(){b()};var b=function(){var e=+new Date,n=function(n){var r=+new Date,a=r-e;return e=r,!((p+=a)>f)&&(t.update(p/f,n),!0)},r=function(e){l&&l(e),O=window.requestAnimationFrame((function(){n(r)||(d&&d(e),h&&("number"==typeof h?h>1&&(h--,t.start()):t.start()))}))};n(r)};this.setBezier=function(e){t.bezier=r(e)}}}));
